{"ast":null,"code":"import css from 'dom-helpers/css';\nimport { dataAttr } from './DataKey';\nimport getBodyScrollbarWidth from './getScrollbarWidth';\nexport const OPEN_DATA_ATTRIBUTE = dataAttr('modal-open');\n/**\r\n * Manages a stack of Modals as well as ensuring\r\n * body scrolling is is disabled and padding accounted for\r\n */\n\nclass ModalManager {\n  constructor({\n    ownerDocument,\n    handleContainerOverflow = true,\n    isRTL = false\n  } = {}) {\n    this.handleContainerOverflow = handleContainerOverflow;\n    this.isRTL = isRTL;\n    this.modals = [];\n    this.ownerDocument = ownerDocument;\n  }\n\n  getScrollbarWidth() {\n    return getBodyScrollbarWidth(this.ownerDocument);\n  }\n\n  getElement() {\n    return (this.ownerDocument || document).body;\n  }\n\n  setModalAttributes(_modal) {// For overriding\n  }\n\n  removeModalAttributes(_modal) {// For overriding\n  }\n\n  setContainerStyle(containerState) {\n    const style = {\n      overflow: 'hidden'\n    }; // we are only interested in the actual `style` here\n    // because we will override it\n\n    const paddingProp = this.isRTL ? 'paddingLeft' : 'paddingRight';\n    const container = this.getElement();\n    containerState.style = {\n      overflow: container.style.overflow,\n      [paddingProp]: container.style[paddingProp]\n    };\n\n    if (containerState.scrollBarWidth) {\n      // use computed style, here to get the real padding\n      // to add our scrollbar width\n      style[paddingProp] = `${parseInt(css(container, paddingProp) || '0', 10) + containerState.scrollBarWidth}px`;\n    }\n\n    container.setAttribute(OPEN_DATA_ATTRIBUTE, '');\n    css(container, style);\n  }\n\n  reset() {\n    [...this.modals].forEach(m => this.remove(m));\n  }\n\n  removeContainerStyle(containerState) {\n    const container = this.getElement();\n    container.removeAttribute(OPEN_DATA_ATTRIBUTE);\n    Object.assign(container.style, containerState.style);\n  }\n\n  add(modal) {\n    let modalIdx = this.modals.indexOf(modal);\n\n    if (modalIdx !== -1) {\n      return modalIdx;\n    }\n\n    modalIdx = this.modals.length;\n    this.modals.push(modal);\n    this.setModalAttributes(modal);\n\n    if (modalIdx !== 0) {\n      return modalIdx;\n    }\n\n    this.state = {\n      scrollBarWidth: this.getScrollbarWidth(),\n      style: {}\n    };\n\n    if (this.handleContainerOverflow) {\n      this.setContainerStyle(this.state);\n    }\n\n    return modalIdx;\n  }\n\n  remove(modal) {\n    const modalIdx = this.modals.indexOf(modal);\n\n    if (modalIdx === -1) {\n      return;\n    }\n\n    this.modals.splice(modalIdx, 1); // if that was the last modal in a container,\n    // clean up the container\n\n    if (!this.modals.length && this.handleContainerOverflow) {\n      this.removeContainerStyle(this.state);\n    }\n\n    this.removeModalAttributes(modal);\n  }\n\n  isTopModal(modal) {\n    return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\n  }\n\n}\n\nexport default ModalManager;","map":{"version":3,"sources":["C:/Users/JoÃ£o Marcelo/Documents/GitHub/Site-EngComp/node_modules/@restart/ui/esm/ModalManager.js"],"names":["css","dataAttr","getBodyScrollbarWidth","OPEN_DATA_ATTRIBUTE","ModalManager","constructor","ownerDocument","handleContainerOverflow","isRTL","modals","getScrollbarWidth","getElement","document","body","setModalAttributes","_modal","removeModalAttributes","setContainerStyle","containerState","style","overflow","paddingProp","container","scrollBarWidth","parseInt","setAttribute","reset","forEach","m","remove","removeContainerStyle","removeAttribute","Object","assign","add","modal","modalIdx","indexOf","length","push","state","splice","isTopModal"],"mappings":"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","sourcesContent":["import css from 'dom-helpers/css';\r\nimport { dataAttr } from './DataKey';\r\nimport getBodyScrollbarWidth from './getScrollbarWidth';\r\nexport const OPEN_DATA_ATTRIBUTE = dataAttr('modal-open');\r\n\r\n/**\r\n * Manages a stack of Modals as well as ensuring\r\n * body scrolling is is disabled and padding accounted for\r\n */\r\nclass ModalManager {\r\n  constructor({\r\n    ownerDocument,\r\n    handleContainerOverflow = true,\r\n    isRTL = false\r\n  } = {}) {\r\n    this.handleContainerOverflow = handleContainerOverflow;\r\n    this.isRTL = isRTL;\r\n    this.modals = [];\r\n    this.ownerDocument = ownerDocument;\r\n  }\r\n  getScrollbarWidth() {\r\n    return getBodyScrollbarWidth(this.ownerDocument);\r\n  }\r\n  getElement() {\r\n    return (this.ownerDocument || document).body;\r\n  }\r\n  setModalAttributes(_modal) {\r\n    // For overriding\r\n  }\r\n  removeModalAttributes(_modal) {\r\n    // For overriding\r\n  }\r\n  setContainerStyle(containerState) {\r\n    const style = {\r\n      overflow: 'hidden'\r\n    };\r\n\r\n    // we are only interested in the actual `style` here\r\n    // because we will override it\r\n    const paddingProp = this.isRTL ? 'paddingLeft' : 'paddingRight';\r\n    const container = this.getElement();\r\n    containerState.style = {\r\n      overflow: container.style.overflow,\r\n      [paddingProp]: container.style[paddingProp]\r\n    };\r\n    if (containerState.scrollBarWidth) {\r\n      // use computed style, here to get the real padding\r\n      // to add our scrollbar width\r\n      style[paddingProp] = `${parseInt(css(container, paddingProp) || '0', 10) + containerState.scrollBarWidth}px`;\r\n    }\r\n    container.setAttribute(OPEN_DATA_ATTRIBUTE, '');\r\n    css(container, style);\r\n  }\r\n  reset() {\r\n    [...this.modals].forEach(m => this.remove(m));\r\n  }\r\n  removeContainerStyle(containerState) {\r\n    const container = this.getElement();\r\n    container.removeAttribute(OPEN_DATA_ATTRIBUTE);\r\n    Object.assign(container.style, containerState.style);\r\n  }\r\n  add(modal) {\r\n    let modalIdx = this.modals.indexOf(modal);\r\n    if (modalIdx !== -1) {\r\n      return modalIdx;\r\n    }\r\n    modalIdx = this.modals.length;\r\n    this.modals.push(modal);\r\n    this.setModalAttributes(modal);\r\n    if (modalIdx !== 0) {\r\n      return modalIdx;\r\n    }\r\n    this.state = {\r\n      scrollBarWidth: this.getScrollbarWidth(),\r\n      style: {}\r\n    };\r\n    if (this.handleContainerOverflow) {\r\n      this.setContainerStyle(this.state);\r\n    }\r\n    return modalIdx;\r\n  }\r\n  remove(modal) {\r\n    const modalIdx = this.modals.indexOf(modal);\r\n    if (modalIdx === -1) {\r\n      return;\r\n    }\r\n    this.modals.splice(modalIdx, 1);\r\n\r\n    // if that was the last modal in a container,\r\n    // clean up the container\r\n    if (!this.modals.length && this.handleContainerOverflow) {\r\n      this.removeContainerStyle(this.state);\r\n    }\r\n    this.removeModalAttributes(modal);\r\n  }\r\n  isTopModal(modal) {\r\n    return !!this.modals.length && this.modals[this.modals.length - 1] === modal;\r\n  }\r\n}\r\nexport default ModalManager;"]},"metadata":{},"sourceType":"module"}